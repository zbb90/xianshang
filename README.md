# 工时管理系统

基于Flask的工时管理系统，集成高德地图API实现实时路途计算。

## 功能特点

### 专员端功能
- 门店名称搜索：输入门店名称即可搜索并选择
- 路途计算：调用高德地图API计算实际路程和时间
- 工时记录：记录路途、巡店、报告三类工时
- 历史查询：查看个人工时记录

### 主管端功能
- 实时监控：查看今日工时统计
- 数据统计：本月总工时、总里程等
- 专员管理：查看所有专员的工时记录
- 数据筛选：按日期、专员筛选工时记录

## 技术栈
- 后端：Flask + SQLite
- 前端：原生HTML + CSS + JavaScript
- 地图服务：高德地图API

## 安装与运行

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 配置高德地图API
在代码中配置您的高德地图API密钥，或通过环境变量设置：
```bash
export AMAP_API_KEY=your_api_key_here
```

### 3. 运行系统
```bash
python app.py
```

系统将在 http://localhost:5000 启动

## 默认账号

- **管理员账号**
  - 用户名：admin
  - 密码：admin123

- **测试专员账号**
  - 用户名：test
  - 密码：123456

## 使用说明

### 专员使用流程
1. 登录系统
2. 选择工作日期和交通方式
3. 输入出发门店和目标门店名称
4. 点击"计算路程"获取实际里程和时间
5. 填写巡店工时和报告工时
6. 保存工时记录

### 主管使用流程
1. 使用管理员账号登录
2. 查看统计数据
3. 按需筛选工时记录
4. 实时监控专员工作情况

## 注意事项
- 确保高德地图API密钥有效
- 首次运行会自动创建数据库和默认账号
- 建议定期备份数据库文件(timesheet.db)



